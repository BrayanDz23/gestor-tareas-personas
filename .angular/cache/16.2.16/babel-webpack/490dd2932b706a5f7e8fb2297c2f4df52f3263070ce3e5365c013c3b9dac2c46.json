{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nlet CrearTareaComponent = class CrearTareaComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.tareaForm = this.fb.group({\n      nombre: ['', [Validators.required, Validators.minLength(5)]],\n      fechaLimite: ['', Validators.required],\n      personas: this.fb.array([]) // Aquí se define el FormArray\n    });\n  }\n  // Método para obtener el FormArray de personas\n  get personas() {\n    return this.tareaForm.get('personas');\n  }\n  // Método para agregar una persona\n  agregarPersona() {\n    const personaForm = this.fb.group({\n      nombre: ['', Validators.required],\n      habilidades: this.fb.array([]) // Aquí se define el FormArray de habilidades\n    });\n\n    this.personas.push(personaForm);\n  }\n  // Método para eliminar una persona\n  eliminarPersona(index) {\n    this.personas.removeAt(index);\n  }\n  // Método para agregar habilidad\n  agregarHabilidad(personaIndex) {\n    const habilidades = this.personas.at(personaIndex).get('habilidades');\n    habilidades.push(this.fb.control('', Validators.required)); // Habilidad obligatoria\n  }\n  // Método para eliminar habilidad\n  eliminarHabilidad(personaIndex, habilidadIndex) {\n    const habilidades = this.personas.at(personaIndex).get('habilidades');\n    habilidades.removeAt(habilidadIndex);\n  }\n  // Método para validar habilidades vacías\n  tieneHabilidadesVacías() {\n    return this.personas.controls.some(persona => {\n      const habilidades = persona.get('habilidades');\n      return habilidades.length === 0 || habilidades.controls.some(habilidad => habilidad.value === '');\n    });\n  }\n  // Método para guardar la tarea\n  guardarTarea() {\n    if (this.tareaForm.valid) {\n      // Lógica para guardar la tarea\n      console.log(this.tareaForm.value);\n    } else {\n      console.log(\"Formulario inválido\");\n    }\n  }\n};\nCrearTareaComponent = __decorate([Component({\n  selector: 'app-crear-tarea',\n  templateUrl: './crear-tarea.component.html',\n  styleUrls: ['./crear-tarea.component.css']\n}), __metadata(\"design:paramtypes\", [FormBuilder])], CrearTareaComponent);\nexport { CrearTareaComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}